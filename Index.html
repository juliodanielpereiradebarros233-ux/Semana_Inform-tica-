<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>BOOKING</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 20px;
      background-image: url('biblioteca.jpg');
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #fffcfc;
    }

    .controls {
      max-width: 900px;
      margin: 0 auto 20px;
      display: flex;
      gap: 10px;
    }

    .controls input,
    .controls select {
      flex: 1;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .catalog {
      max-width: 900px;
      margin: 0 auto;
      display: grid;
      gap: 15px;
    }

    .book {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.199);
    }

    .book h3 {
      margin: 0 0 5px;
    }

    .tags {
      margin-top: 5px;
      font-size: 0.9em;
      color: #666;
    }

    .badge {
      display: inline-block;
      padding: 3px 7px;
      border-radius: 4px;
      font-size: 0.8em;
      margin-right: 5px;
    }

    .badge.online {
      background: #d1f5d3;
      color: #176b1f;
    }

    .badge.physical {
      background: #d0e8ff;
      color: #094c8c;
    }

    .online,
    .physical {
      margin-top: 10px;
      font-size: 0.9em;
    }

    .physical div {
      margin-top: 3px;
    }

    footer {
      text-align: center;
      margin-top: 30px;
      font-size: 0.8em;
      color: #666;
    }
  </style>
</head>

<body>
  <h1>BOOKING </h1>
  <div class="controls">
    <input type="text" id="search" placeholder="Buscar por título ou autor">
    <select id="filter">
      <option value="all">Todos</option>
      <option value="online">Só Online</option>
      <option value="physical">Só Físico</option>
    </select>
    <select id="sort">
      <option value="title">Título (A-Z)</option>
      <option value="author">Autor (A-Z)</option>
      <option value="year">Ano (mais novo)</option>
    </select>
  </div>

  <div id="catalog" class="catalog"></div>

  <footer>
    Desenvolvido no VS Code — HTML + CSS + JavaScript puro
  </footer>

  <script>
    const books = [
      { id: "1", title: "A Filha dos Rios", author: "Ilko Minev", year: 2015, tags: ["Romance", "História"], online: [{ name: "Mercadolivre", url: "https://www.mercadolivre.com.br/a-filha-dos-rios-de-minev-ilko-editorial-wiser-educaco-sa-capa-mole-em-portugus-2021/p/MLB19368344" }], physical: [{ place: "Livraria Cultura", address: "Av. serido,613-caico-RN" }] },
      { id: "2", title: "Jantar Secreto", author: "Raphael Montes", year: 2016, tags: ["Suspense", "Mistério"], online: [{ name: "Amazon", url: "https://www.amazon.com.br/Jantar-secreto-Raphael-Montes/dp/8535928359" }], physical: [{ place: "Livraria Cultura", address: "Av. serido,613-centro,caico-RN" }] },
      { id: "3", title: "Nunca Minta", author: "Freida McFadden", year: 2022, tags: ["Thriller", "Psicológico"], online: [{ name: "Amazon", url: "https://www.amazon.com.br/Nunca-minta-Freida-McFadden/dp/8501923281/ref=sr_1_1?adgrpid=80761585349&dib=eyJ2IjoiMSJ9.eE_KG47H9ceJ8qxxvQJlFTuJmXRODNqqihHCWhBrFwNNsLj_qY_V0WEkRvTaBwSMozz7F03_CnVaK0JSUV_6mdku5UDKbJUTpZ1sZFsC3PE.jUVwjZRIllmI96AtZl0yI_-UJD4gtqSkZziHhDp5QTw&dib_tag=se&hvadid=595905255770&hvdev=c&hvlocphy=9219095&hvnetw=g&hvqmt=e&hvrand=7575131845397296292&hvtargid=kwd-2388924111743&hydadcr=17812_13491828&keywords=nunca+minta&mcid=0e87dc3dc1b63f0591c2966794330376&qid=1760351511&sr=8-1" }], physical: [{ place: "Livraria Cultura", address: "Av. serido,613-centro,caico-RN" }] }
      // ... os outros livros seguem aqui, sem link de imagem
    ];

    const searchInput = document.getElementById("search");
    const filterSelect = document.getElementById("filter");
    const sortSelect = document.getElementById("sort");
    const catalogDiv = document.getElementById("catalog");

    function render() {
      let query = searchInput.value.toLowerCase();
      let filter = filterSelect.value;
      let sort = sortSelect.value;

      let results = books.filter(b =>
        b.title.toLowerCase().includes(query) ||
        b.author.toLowerCase().includes(query)
      );

      if (filter === "online") results = results.filter(b => b.online.length > 0);
      if (filter === "physical") results = results.filter(b => b.physical.length > 0);

      results.sort((a, b) => {
        if (sort === "title") return a.title.localeCompare(b.title);
        if (sort === "author") return a.author.localeCompare(b.author);
        if (sort === "year") return b.year - a.year;
        return 0;
      });

      catalogDiv.innerHTML = results.map(book => `
        <div class="book">
          <h3>${book.title}</h3>
          <div><strong>${book.author}</strong> • ${book.year}</div>
          <div class="tags">${book.tags.join(", ")}</div>
          <div>
            ${book.online.length ? `<span class="badge online">Online</span>` : ""}
            ${book.physical.length ? `<span class="badge physical">Físico</span>` : ""}
          </div>
          <div class="online">
            ${book.online.map(o => `<a href="${o.url}" target="_blank">${o.name}</a>`).join(" | ")}
          </div>
          <div class="physical">
            ${book.physical.map(p => `<div>${p.place} - ${p.address}</div>`).join("")}
          </div>
        </div>
      `).join("");

      if (results.length === 0) catalogDiv.innerHTML = "<p>Nenhum livro encontrado.</p>";
    }

    searchInput.addEventListener("input", render);
    filterSelect.addEventListener("change", render);
    sortSelect.addEventListener("change", render);

    render();
  </script>
</body>

</html>
